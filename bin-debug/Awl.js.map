{"version":3,"file":"Awl.js","sourceRoot":"","sources":["../src/Awl.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;IAAkB,uBAA4B;IAI1C,aAAY,CAAC;QAAb,YACI,iBAAO,SAEV;QADG,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;;IACtB,CAAC;IAEO,uBAAS,GAAjB,UAAkB,CAAC;QACf,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;QAChC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAE3C,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;QAC7C,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAEM,oBAAM,GAAb;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;YAAC,MAAM,CAAC;QAE7B,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC;QAC9B,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAClC,CAAC;IAEO,uBAAS,GAAjB;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAAC,IAAI;YAAC,MAAM,CAAC,KAAK,CAAC;IACxB,CAAC;IAEO,oCAAsB,GAA9B;QACI,IAAM,OAAO,GAAG,IAAI,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACrG,IAAM,aAAa,GAAG,IAAI,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAC1H,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAEnG,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACpC,YAAY,CAAC,SAAS,CAAC,KAAK,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;QAChE,CAAC;IACL,CAAC;IAEM,qBAAO,GAAd;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAC9B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACjC,CAAC;IACL,CAAC;IA9Ca,SAAK,GAAG,CAAC,CAAC;IA+C5B,UAAC;CAAA,AAhDD,CAAkB,KAAK,CAAC,sBAAsB,GAgD7C;AAhDK,UAAA,GAAG,kBAgDR,CAAA","sourcesContent":["class Awl extends egret.DisplayObjectContainer {\r\n    public static SPEED = 3;\r\n    public image: egret.Bitmap;\r\n\r\n    constructor(x) {\r\n        super();\r\n        this.createAwl(x);\r\n    }\r\n\r\n    private createAwl(x) {\r\n        this.image = new egret.Bitmap();\r\n        this.image.texture = RES.getRes(\"awl_png\");\r\n\r\n        this.image.y = 512 - this.image.height * 2.8;\r\n        this.image.x = x;\r\n        this.addChild(this.image);\r\n    }\r\n\r\n    public update() {\r\n        if (this.deleteAwl()) return;\r\n\r\n        this.image.x -= 1 * Awl.SPEED;\r\n        this.isCollisionToCharacter();\r\n    }\r\n\r\n    private deleteAwl() {\r\n        if (this.image.x < -this.image.width) {\r\n            this.destroy();\r\n            return true;\r\n        } else return false;\r\n    }\r\n\r\n    private isCollisionToCharacter() {\r\n        const rectAwl = new egret.Rectangle(this.image.x, this.image.y, this.image.width, this.image.height);\r\n        const rectCharacter = new egret.Rectangle(SceneManager.mainScene.character.sprite.x, SceneManager.mainScene.character.sprite.y,\r\n            SceneManager.mainScene.character.sprite.width, SceneManager.mainScene.character.sprite.height);\r\n        \r\n        if (rectAwl.intersects(rectCharacter)) {\r\n            SceneManager.mainScene.event.dispatchEventWith(\"COLLISION\");\r\n        }\r\n    }\r\n\r\n    public destroy() {\r\n        if (this.parent && this.image) {\r\n            this.parent.removeChild(this);\r\n            this.removeChild(this.image);\r\n        }\r\n    }\r\n}"]}