{"version":3,"file":"Awl.js","sourceRoot":"","sources":["../src/Awl.ts"],"names":[],"mappings":"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","sourcesContent":["class Awl extends egret.DisplayObjectContainer {\r\n    public static SPEED = 3;\r\n    public image: egret.Bitmap;\r\n\r\n    constructor(x) {\r\n        super();\r\n        this.createAwl(x);\r\n    }\r\n\r\n    private createAwl(x) {\r\n        this.image = new egret.Bitmap();\r\n        this.image.texture = RES.getRes(\"awl_png\");\r\n\r\n        this.image.y = SceneManager.STAGE_ONE_WIDTH - this.image.height * 2.8;\r\n        this.image.x = x;\r\n        this.addChild(this.image);\r\n    }\r\n\r\n    public update() {\r\n        if (this.deleteAwl()) return;\r\n\r\n        this.image.x -= 1 * Awl.SPEED;\r\n        this.isCollisionToCharacter();\r\n    }\r\n\r\n    private deleteAwl() {\r\n        if (this.image.x < -this.image.width) {\r\n            this.destroy();\r\n            return true;\r\n        } else return false;\r\n    }\r\n\r\n    private beforeBound;\r\n    private isCollisionToCharacter() {\r\n        const rectAwl = new egret.Rectangle(this.image.x + 5, this.image.y + 5, this.image.width - 10, this.image.height - 10);\r\n        const rectCharacter = new egret.Rectangle(SceneManager.mainScene.character.sprite.x + 80, SceneManager.mainScene.character.sprite.y,\r\n             Runner.CHARACTER_WIDTH, Runner.CHARACTER_HEIGHT);\r\n\r\n        if (rectAwl.intersects(rectCharacter)) {\r\n            SceneManager.mainScene.event.dispatchEventWith(\"COLLISION\");\r\n        }\r\n    }\r\n\r\n    public destroy() {\r\n        if (this.parent && this.image) {\r\n            this.parent.removeChild(this);\r\n            this.removeChild(this.image);\r\n        }\r\n    }\r\n\r\n    private boundTest(x, y, width, height) {\r\n        const bound = new egret.Shape();\r\n        bound.graphics.beginFill(0xff0000);\r\n        bound.graphics.drawRect(x, y, width, height);\r\n        bound.graphics.endFill();\r\n        this.addChild(bound);\r\n\r\n        return bound;\r\n    }\r\n}"]}